/*
* Created by filippo on 28/11/16
*/
var lib = require('./index.js');

function test(n,matrix,lines){
  console.log("Test " + n + "\n");
  var t0 = new Date().getTime();
  //console.log(lib(matrix, lines));
    lib(matrix, lines);
  var t1 = new Date().getTime();
  console.log("It tooks " + (t1 - t0) + " milliseconds.\n\n");
 }

 function createMatrix(n,m){
     var matrix = [];
     for(var i=0; i<n/2; i++) {
       matrix[i] = new Array(m).fill(0);
     }

     a1 = new Array(m).fill(-1);
     for (var i=m/2; i<(m/4)*3; i++){
       a1[i] = 0;
     }
     //components are all in the mid of matrix
     for(var i=n/2; i<(n/4)*3; i++) {
       matrix[i] = a1;
     }
     for(var i=(n/4)*3; i<n; i++) {
       matrix[i] = new Array(m).fill(0);
     }
     return matrix;
 }

 /*
 * Test 2: 7x7 matrix, 2 lines
 */
var matrix1 = [
     [-1,-1,0,-1, 0, 0, 0],
     [-1,-1,0,-1, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
     [0,0,0,0, 0, 0, 0],
 ];
var lines1 = [
     [[0,4],[6,0]],
     [[2,3],[3,0]]
 ];
test(1,matrix1,lines1);

/*
* Test 2: 7x7 matrix, 4 lines
*/
var matrix2 = [
    [-1,-1,0,-1, 0, 0, 0],
    [-1,-1,0,-1, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
    [0,0,0,0, 0, 0, 0],
];
var lines2 = [
    [[0,4],[6,0]],
    [[2,3],[3,0]],
    [[5,2],[3,3]],
    [[1,4],[5,5]]
];
test(2,matrix2,lines2);

/*
* Test 3: 15x15 matrix, 6 lines
*/
var matrix3 = [
    [-1,-1,0,-1,0,0,0,0, -1,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,-1,-1,0,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [-1,-1,0,-1,0,0,0,0, -1,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [-1,-1,0,-1,0,0,0,0, -1,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,-1,-1,0,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
    [-1,-1,0,-1,0,0,0,0, -1,0,-1,0,-1,0,-1],
    [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
];
var lines3 = [
    [[1,1],[5,0]],
    [[2,3],[3,0]],
    [[5,2],[3,3]],
    [[2,4],[7,1]],
    [[9,13],[10,5]],
    [[3,4],[11,5]],
];
test(3,matrix3,lines3);

/*
* Test 4: 50x50 matrix, 6 lines
*/

matrix4 = createMatrix(50,50);

var lines4 = [
    [[1,1],[5,0]],
    [[2,3],[3,0]],
    [[5,2],[3,3]],
    [[2,4],[7,1]],
    [[9,13],[10,5]],
    [[3,4],[11,5]],
];

test(4,matrix4,lines4);

/*
* Test 5: 100x100 matrix, 6 lines
*/

matrix5 = createMatrix(100,100);

var lines5 = [
    [[1,1],[5,0]],
    [[2,3],[3,0]],
    [[5,2],[3,3]],
    [[2,4],[7,1]],
    [[9,13],[10,5]],
    [[3,4],[11,5]],
];

test(5,matrix5,lines5);

/*
* Test 6: 100x100 matrix, 15 lines
*/

matrix5 = createMatrix(100,100);

var lines5 = [
    [[1,1],[5,0]],
    [[2,3],[3,0]],
    [[5,2],[3,3]],
    [[2,4],[7,1]],
    [[9,13],[10,5]],
    [[3,4],[11,5]],
    [[10,1],[5,1]],
    [[11,3],[3,1]],
    /*[[12,2],[3,8]],
    [[13,4],[7,2]],
    [[14,13],[10,8]],
    [[15,4],[11,1]],
    */
];

test(6,matrix5,lines5);
